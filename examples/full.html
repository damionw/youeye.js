<!DOCTYPE HTML PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html lang="en-US">
    <head>
        <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
        <title>Custom Elements Compound Demo</title>
        <link rel="stylesheet" href="font-awesome.min.css">
        <script type="application/javascript" language="javascript" src="youeye.js"></script>
    </head>

    <ui-configuration
        application_background="#fefefe"
        application_foreground="black"
        application_typeface="Tahoma, sans-serif"
        application_typesize="18px"
        toolbar_height="40px"
        shadow_depth="8px"
        padding="4px"
        animation_milliseconds="22"
    ></ui-configuration>

    <body>
        <ui-frame orientation="vertical" normal_background="default">
            <ui-transient
                consume="show_config,hide_config"
                listener="config_event"
                relative="false"
                width="400px"
                height="250px"
                normal_background="default"
                decorate="true"
                hover="false"
                x="100px"
                y="70px"
            >
                <div style="width: 100%; height=40px; background-color: blue; color: white; text-align: center;">
                     Configuration Details
                </div>

                <ui-textfield height="75%">
                </ui-textfield>

                <ui-toolbar justify="right" normal_background="inherit">
                    <ui-button clickedsignal="hide_config">
                        <i class="fa fa-times fa-6" aria-hidden="true"></i>
                    </ui-button>
                </ui-toolbar>
            </ui-transient>

            <ui-transient
                consume="show_calendar,hide_calendar"
                listener="calendar_event"
                relative="false"
                normal_background="default"
                decorate="true"
                hover="false"
                x="100px"
                y="70px"
            >
                <div style="width: 100%; height=40px; background-color: blue; color: white; text-align: center;">
                     Calendar
                </div>

                <ui-toolbar normal_background=blue normal_foreground=white>
                    <ui-button clickedsignal="previous_month">
                        <i class="fa fa-fast-backward fa-10" aria-hidden="true"></i>
                    </ui-button>

                    <ui-button clickedsignal="previous_date">
                        <i class="fa fa-backward fa-10" aria-hidden="true"></i>
                    </ui-button>

                    <ui-button clickedsignal="next_date">
                        <i class="fa fa-forward fa-10" aria-hidden="true"></i>
                    </ui-button>

                    <ui-button clickedsignal="next_month">
                        <i class="fa fa-fast-forward fa-10" aria-hidden="true"></i>
                    </ui-button>
                </ui-toolbar>

                <ui-calendar
                    dateselection_signal="date_selected"
                    consume="date_selected,previous_month,previous_date,next_date,next_month"
                    listener=date_event
                    highlight_background="#00a0fe"
                    width=400px
                >
                </ui-calendar>

                <ui-toolbar justify="right" normal_background="inherit">
                    <ui-button clickedsignal="hide_calendar">
                        <i class="fa fa-times fa-6" aria-hidden="true"></i>
                    </ui-button>
                </ui-toolbar>
            </ui-transient>

            <ui-toolbar normal_background=blue normal_foreground=white>
                <ui-toolbar width=100% normal_foreground=white justify=left pad=true>
                    <ui-button clickedsignal="toggle_menu">
                        <i class="fa fa-bars fa-6" aria-hidden="true"></i>
                    </ui-button>

                    <ui-button clickedsignal="home_toggle" hoversignal="home_show" exitsignal="home_hide">
                        <ui-transient
                            consume="home_toggle,home_show,home_hide"
                            listener="home_event"
                            relative="true"
                            normal_foreground="white"
                            y="25px"
                            width="180px"
                        >
                            <ui-button highlight="-16" clickedsignal="show_config">
                                The first entry
                            </ui-button>

                            <ui-button highlight="-16" clickedsignal="show_config">
                                The second entry
                            </ui-button>

                            <ui-button highlight="-16" clickedsignal="show_calendar">
                                Calendar...
                            </ui-button>
                        </ui-transient>

                        <i class="fa fa-home fa-6" aria-hidden="true"></i>
                        Home
                    </ui-button>

                    <ui-button clickedsignal="toggle_settings" hoversignal="show_settings" exitsignal="hide_settings">
                        <ui-transient
                            consume="toggle_settings,show_settings,hide_settings"
                            listener="settings_event"
                            normal_foreground="white"
                            normal_background="inherit"
                            relative="true"
                            y="25px"
                            width="200px"
                        >
                            <ui-button highlight="-16" clickedsignal="show_config">
                                Another entry...
                            </ui-button>
                        </ui-transient>

                        <i class="fa fa-cogs fa-6" aria-hidden="true"></i>
                        Settings
                    </ui-button>
                </ui-toolbar>

                <ui-toolbar width=200px normal_foreground=white justify=right pad=true>
                    <ui-button clickedsignal="toggle_search">
                        <i class="fa fa-search fa-6" aria-hidden="true"></i>
                    </ui-button>
                </ui-toolbar>
            </ui-toolbar>

            <ui-frame orientation="horizontal" pad=true>
                <ui-edgeframe
                    edge="left"
                    pad=true
                    consume="toggle_menu, open_menu, close_menu"
                    listener="menu_event"
                    width="200px"
                    normal_background="default"
                >
                    <ui-button highlight="-16" clickedsignal="close_menu">
                        One
                    </ui-button>

                    <ui-button highlight="-16" clickedsignal="close_menu">
                        Two
                    </ui-button>

                    <ui-button highlight="-16" clickedsignal="close_menu">
                        Three
                    </ui-button>
                </ui-edgeframe>

                <ui-edgeframe
                    edge="top"
                    pad=true
                    width="400px"
                    consume="search_open,toggle_search,search_close"
                    listener="search_event"
                >
                    <div style="margin: 4px;">
                    Find
                    </div>

                    <ui-textfield width="100%" normal_background=white normal_foreground=blue confirmedsignal="search_string">
                        Enter search terms
                    </ui-textfield>

                    <ui-button clickedsignal="search_close">
                        <i class="fa fa-times fa-6" aria-hidden="true"></i>
                    </ui-button>
                </ui-edgeframe>

                <ui-frame orientation="vertical" pad=true>
                    <ui-frame orientation="horizontal" height="40%" pad=true>
                        <ui-pane width="100%" height="100%" normal_background="white" consume="search_string" listener="search_event">
                        This is a test
                        </ui-pane>

                        <ui-pane width="100%" height="100%" normal_background="white">
                            <ui-tabular
                                data='{
                                    "columns": ["one", "two", "three"],
                                    "values": [
                                        ["a", "b", "c"],
                                        ["d", "e", "f"],
                                        ["a", "b", "c"],
                                        ["d", "e", "f"],
                                        ["a", "b", "c"],
                                        ["d", "e", "f"],
                                        ["a", "b", "c"],
                                        ["d", "e", "f"],
                                        ["a", "b", "c"]
                                    ]
                                }'
                            >
                            <ui-tabular>
                        </ui-pane>
                    </ui-frame>

                    <ui-pane width="100%" height="100%" normal_background="white">
                        <h1>Didn't melt fairer keepsakes since Fellowship elsewhere.</h1>
                        <p>Woodlands payment Osgiliath tightening. Barad-dur follow belly comforts tender tough bell? Many that live deserve death. Some that die deserve life. Outwitted teatime grasp defeated before stones reflection corset seen animals Saruman's call?</p>
                        <h2>Tad survive ensnare joy mistake courtesy Bagshot Row.</h2>
                        <p>Ligulas step drops both? You shall not pass! Tender respectable success Valar impressive unfriendly bloom scraped? Branch hey-diddle-diddle pony trouble'll sleeping during jump Narsil.</p>
                        <h3>North valor overflowing sort Iáve mister kingly money?</h3>
                        <p>Curse you and all the halflings! Deserted anytime Lake-town burned caves balls. Smoked lthilien forbids Thrain?</p>
                    </ui-pane>

                    <ui-pane normal_background="green" height="50px" normal_foreground="white">
                        <div consume="status" listener="status_event">And another</div>
                    </ui-pane>
                </ui-frame>
            </ui-frame>
        </ui-frame>
    </body>

    <script type="application/javascript">
        function status_event(topic, payload) {
            this.innerHTML = topic + ": " + payload;
        }

        function search_event(topic, payload) {
            if (topic == "search_open") {
                this.setAttribute("show", "true");
            }
            else if (topic == "search_close") {
                this.setAttribute("show", "false");
            }
            else if (topic == "toggle_search") {
                this.setAttribute(
                    "show", (
                        this.getAttribute("show") == "true" ?
                        "false" :
                        "true"
                    )
                );
            }
            else if (topic == "search_string") {
                this.textContent = payload;
                this.emit("search_close");
            }

            this.emit("status", topic);
        }

        function home_event(topic, payload) {
            if (topic == "home_show") {
                this.setAttribute("show", "true");
            }
            else if (topic == "home_hide") {
                this.setAttribute("show", "false");
            }

            this.emit("status", topic);
        }

        function settings_event(topic, payload) {
            if (topic == "show_settings") {
                this.setAttribute("show", "true");
            }
            else if (topic == "hide_settings") {
                this.setAttribute("show", "false");
            }

            this.emit("status", topic);
        }

        function config_event(topic, payload) {
            if (topic == "show_config") {
                this.setAttribute("show", "true");
            }
            else if (topic == "hide_config") {
                this.setAttribute("show", "false");
            }

            this.emit("status", topic);
        }

        function calendar_event(topic, payload) {
            if (topic == "show_calendar") {
                this.setAttribute("show", "true");
            }
            else if (topic == "hide_calendar") {
                this.setAttribute("show", "false");
            }

            this.emit("status", topic);
        }

        function menu_event(topic, payload) {
            if (topic == "open_menu") {
                this.setAttribute("show", "true");
            }
            else if (topic == "close_menu") {
                this.setAttribute("show", "false");
            }
            else if (topic == "toggle_menu") {
                this.setAttribute(
                    "show", (
                        this.getAttribute("show") == "true" ?
                        "false" :
                        "true"
                    )
                );
            }

            this.emit("status", topic);
        }

        function date_event(topic, payload) {
            var date = this.date;

            if (topic == "next_month") {
                date.setMonth(date.getMonth() + 1);
            }
            else if (topic == "next_date") {
                date.setDate(date.getDate() + 1);
            }
            else if (topic == "previous_date") {
                date.setDate(date.getDate() - 1);
            }
            else if (topic == "previous_month") {
                date.setMonth(date.getMonth() - 1);
            }
            else if (topic == "date_selected") {
                console.log("Selected " + payload);
            }
            else {
                return;
            }

            this.setAttribute("date", date);
        }
    </script>
</html>
