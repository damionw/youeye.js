<!DOCTYPE HTML PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html lang="en-US">
    <head>
        <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
        <title>Custom Elements Compound Demo</title>
        <link rel="stylesheet" href="font-awesome.min.css">
        <script type="application/javascript" language="javascript" src="youeye.js"></script>
    </head>

    <ui-configuration
        application_background="#f2f2f2"
        application_foreground="black"
        application_typeface="Tahoma, sans-serif"
        application_typesize="18px"
        toolbar_height="40px"
        shadow_depth="4px"
        padding="4px"
        animation_milliseconds="22"
    ></ui-configuration>

    <body>
        <ui-frame orientation="vertical">
            <ui-toolbar background=blue>
                <ui-toolbar width=100% foreground=white background="inherit" justify=left pad=true>
                    <ui-button tooltip="Open Context Menu" emit=menu_toggle>
                        <i class="fa fa-bars fa-6" aria-hidden="true"></i>
                    </ui-button>

                    <ui-button emit=home_toggle>
                        <i class="fa fa-home fa-6" aria-hidden="true"></i>
                        Home
                    </ui-button>

                    <ui-button tooltip="Open Settings Window" emit=settings_toggle>
                        <i class="fa fa-cogs fa-6" aria-hidden="true"></i>
                        Settings
                    </ui-button>
                </ui-toolbar>

                <ui-toolbar width=200px foreground=white background="inherit" justify=right pad=true>
                    <ui-button tooltip="Open Search Window" emit=search_toggle>
                        <i class="fa fa-search fa-6" aria-hidden="true">
                        </i>
                    </ui-button>
                </ui-toolbar>
            </ui-toolbar>

            <ui-frame orientation="horizontal" pad=true>
                <ui-edgeframe
                    edge="left"
                    pad=true
                    consume="menu_toggle, menu_open, menu_close"
                    listener="menu_event"
                    width="200px"
                    background="#fefffe"
                >
                    <ui-button highlight="-16" emit="menu_close">
                        One
                    </ui-button>

                    <ui-button highlight="-16" emit="menu_close">
                        Two
                    </ui-button>

                    <ui-button highlight="-16" emit="menu_close">
                        Three
                    </ui-button>
                </ui-edgeframe>

                <ui-edgeframe
                    edge="top"
                    pad=true
                    width="400px"
                    consume="search_open,search_toggle,search_close"
                    listener="search_event"
                >
                    <div style="margin: 4px;">
                    Find
                    </div>

                    <ui-textfield width="100%" background=white foreground=blue emit="search_string">
                        Enter search terms
                    </ui-textfield>

                    <ui-button emit=search_close>
                        <i class="fa fa-times fa-6" aria-hidden="true"></i>
                    </ui-button>
                </ui-edgeframe>

                <ui-frame orientation="vertical" pad=true>
                    <ui-frame orientation="horizontal" height="40%" pad=true>
                        <ui-pane width="100%" height="100%" background="white" consume="search_string" listener="search_event">
                        This is a test
                        </ui-pane>

                        <ui-pane width="100%" height="100%" background="white">
                            This is another test
                        </ui-pane>
                    </ui-frame>

                    <ui-pane width="100%" height="100%" background="white">
                        <h1>Didn't melt fairer keepsakes since Fellowship elsewhere.</h1>
                        <p>Woodlands payment Osgiliath tightening. Barad-dur follow belly comforts tender tough bell? Many that live deserve death. Some that die deserve life. Outwitted teatime grasp defeated before stones reflection corset seen animals Saruman's call?</p>
                        <h2>Tad survive ensnare joy mistake courtesy Bagshot Row.</h2>
                        <p>Ligulas step drops both? You shall not pass! Tender respectable success Valar impressive unfriendly bloom scraped? Branch hey-diddle-diddle pony trouble'll sleeping during jump Narsil.</p>
                        <h3>North valor overflowing sort IÃ¡ve mister kingly money?</h3>
                        <p>Curse you and all the halflings! Deserted anytime Lake-town burned caves balls. Smoked lthilien forbids Thrain?</p>
                    </ui-pane>

                    <ui-pane background="green" height="50px" foreground="white">
                        And another
                    </ui-pane>
                </ui-frame>
            </ui-frame>
        </ui-frame>
    </body>

    <script type="application/javascript">
        function search_event(topic, payload) {
            if (topic == "search_open") {
                this.setAttribute("show", "true");
            }
            else if (topic == "search_close") {
                this.setAttribute("show", "false");
            }
            else if (topic == "search_toggle") {
                this.setAttribute(
                    "show", (
                        this.getAttribute("show") == "true" ?
                        "false" :
                        "true"
                    )
                );
            }
            else if (topic == "search_string") {
                this.textContent = payload;
                this.emit("search_close");
            }
        }

        function menu_event(topic, payload) {
            if (topic == "menu_open") {
                this.setAttribute("show", "true");
            }
            else if (topic == "menu_close") {
                this.setAttribute("show", "false");
            }
            else if (topic == "menu_toggle") {
                this.setAttribute(
                    "show", (
                        this.getAttribute("show") == "true" ?
                        "false" :
                        "true"
                    )
                );
            }
        }
    </script>
</html>
